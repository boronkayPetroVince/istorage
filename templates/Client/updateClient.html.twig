{% extends 'base.html.twig' %}

{% block body %}
    <form action="{{ path('updateClient') }}" method="post">
        <label for="clients">Melyik ügyfelet módosítaná?</label>
        <select name="clients" id="clients">
            <option value="">Válassz</option>
        </select><br>

        <label for="client_name">client_name</label>
        <input type="text" name="client_name" id="client_name"><br>

        <label for="vatNumber">vatNumber</label>
        <input type="number" name="vatNumber" id="vatNumber"><br>

        <label for="country">country</label>
        <input type="text" name="country" id="country" disabled><br>

        <label for="postalCode">postalCode</label>
        <input type="number" name="postalCode" id="postalCode"><br>

        <label for="city">city</label>
        <input type="text" name="city" id="city"><br>

        <label for="address">address</label>
        <input type="text" name="address" id="address"><br>

        <input type="submit" value="Submit">
        {{ result }}
    </form>

    <script>
        $(document).ready(function(){
            $.ajax({
                url: "{{ path('allClients') }}",
                success: function (eredmeny){
                    var select = document.getElementById("clients");
                    console.log(eredmeny);
                    $.each(eredmeny, function (key,value){
                        var option = document.createElement('option');
                        option.value = value.id;
                        option.innerHTML = value.clientName;
                        select.appendChild(option);
                    });
                }
            });
        });
    </script>
{% endblock %}